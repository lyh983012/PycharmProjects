# -*- coding: utf-8 -*-
from __future__ import print_function

import matplotlib.pyplot as plt
import numpy as np
import operator
import random

from scipy.spatial import ConvexHull

# 闅忔満鏁版嵁
n = random.randrange(20, 40)
points = [
    (
        random.randrange(-100, 100),
        random.randrange(-100, 100),
    ) for _ in range(n)
]

# 淇濆瓨杈撳叆鏂囦欢
with open('unsorted.txt', 'w') as f:
    print(n, file=f)
    for x, y in points:
        print(x, y, file=f)
points.sort(key=operator.itemgetter(0))
with open('sorted.txt', 'w') as f:
    print(n, file=f)
    for x, y in points:
        print(x, y, file=f)

# 璁＄畻鍑稿寘
points = np.array(points, dtype=np.int64)
hull = ConvexHull(points)
hullpoints = points[hull.vertices]

# 鎵捐捣濮嬬偣
start = 0
for i, (x, y) in enumerate(hullpoints):
    if y < hullpoints[start][1] or \
            y == hullpoints[start][1] and \
            x < hullpoints[start][0]:
        start = i

# 杈撳嚭鍙傝�冪瓟妗堟枃浠�
hullpoints = np.concatenate((hullpoints[start:, :], hullpoints[:start, :]))
with open('answer.txt', 'w') as f:
    for x, y in hullpoints:
        print(x, y, file=f)

# 鐢诲浘
plt.plot(points[:, 0], points[:, 1], 'o')
for simplex in hull.simplices:
    plt.plot(points[simplex, 0], points[simplex, 1], 'r-')
plt.show()